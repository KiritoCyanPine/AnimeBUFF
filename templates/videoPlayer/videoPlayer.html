
<!doctype html>
<html lang="en">
{% load static %}
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.0.1">
    <title>AnimeBUFF Anime Episode</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/album/">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="{% static "dist\css\bootstrap.min.css" %}" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- Favicons -->

<link rel="apple-touch-icon" href="/docs/4.5/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="shortcut icon" href='{% static "play-button.ico" %}'>
<link rel="icon" href='{% static "play-button.ico" %}'>
<link rel="icon" href="/docs/4.5/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/docs/4.5/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/docs/4.5/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/docs/4.5/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
<link rel="icon" href="/docs/4.5/assets/img/favicons/favicon.ico">
<meta name="msapplication-config" content="/docs/4.5/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#563d7c">


<link href="{% static 'assets/mediaelementplayer.min.css' %}" rel="stylesheet" />
<link href="{% static 'plugins/speed/speed.min.css' %}" rel="stylesheet" />

<link href="{% static 'plugins/airplay/airplay.min.css' %}" rel="stylesheet" />
<link href="{% static 'plugins/jump-forward/jump-forward.min.css' %}" rel="stylesheet" />
<link href="{% static 'plugins/skip-back/skip-back.min.css' %}" rel="stylesheet" />
<link href="{% static 'plugins/picture-in-picture/picture-in-picture.css' %}" rel="stylesheet" />


<style>

      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }



            @media screen and (prefers-reduced-motion: no-preference) {
              html,
              body {
                scroll-behavior: smooth;
              }
            }

      body {
        background:  linear-gradient(220deg, rgba(2,0,36,1) 0%, rgba(212,212,250,1) 55%, rgba(0,212,255,1) 100%) no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        margin: 0;
        /* this piece of code actually stopped shifting of page when models were opened*/
        /**/                                                                         /**/
        /**/                        padding-right:0px !important;                    /**/
        /**/                        margin-right:0px !important;                     /**/
        /**/                                                                         /**/
        /* this piece of crap actually stopped shifting of page when models were opened*/
        /*cursor: url("{% static 'mangakyo Sharingan (1).png' %}"), auto;*/
      }

      .lights-off {
          background:  linear-gradient(rgba(10,10,10,1), rgba(0, 0, 0, 0.95)) no-repeat center center fixed;
      }

      .darker {
        background :linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25));
      }
      .darkerVD {
        background :linear-gradient(rgba(255, 255, 255, 0.80), rgba(255, 255, 255, 0.80));
      }
      .darkerL {
        background :linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1));
      }
      .model-grad {
        background: linear-gradient(90deg, rgba(58,79,180,0.8830882694874825) 0%, rgba(253,29,71,0.7234244039412641) 50%, rgba(252,176,69,0.7654412106639531) 100%);
      }

      .videoSIZE{
        height:450px;
        width:800px;
      }
      video::-webkit-media-text-track-display {
        font-size: 90%;
        font-family: cursive;
        background: transparent;
      }
      ::cue{
        background: rgba(0,0,0,0.1);
        color: #fff;
      }


      /*       These two are for changing the text style of The CAPTIONS in the Custom Video PLayer           */
      .mejs__captions-layer{
        bottom:0px;
        color:#fff;
        font-family:cursive;
        font-size:20px;
        left:0;
        line-height:20px;
        position:absolute;
        text-align:center;
      }
      .mejs__captions-text,.mejs__captions-text *{
        background:hsla(0,0%,8%,.1);
        box-shadow:5px 0 0 hsla(0,0%,8%,.1),-5px 0 0 hsla(0,0%,8%,.1);
        padding:0;
        white-space:pre-wrap
      }

      /*.mejs__container-keyboard-inactive,.mejs__mediaelement, .mejs__container, .mejs__video *{
        cursor: url("{% static 'mangakyo Sharingan (1).png' %}"), auto;
      }
      .mejs__controls,.mejs__button,.mejs__play,.mejs__jump-forward-button,.mejs__skip-back-button,.mejs__volume-button,.mejs__mute,.mejs__speed-button,.mejs__fullscreen-button *{
        cursor: url("{% static 'mangakyo Sharingan (1).png' %}"), auto;
      }*/
      .hideIt{
        visibility: hidden;
        border: 2px;
        border-radius: 20;
      }

      .progressColor{
            color: red; /*Works only with edge. Not applied to webkit and mozilla*/
            background-color: #EFF; /*not applied to webkit. Works with firefox and Edge*/
            border: 0;
            width: 200px;
            height: 20px; /*works with all browsers*/
            border-radius: 9px;
      }
      progress{
        content: '80%';
        background-color: #EFF; /*not applied to webkit. Works with firefox and Edge*/
        border: 0;
        width: 200px;
        height: 20px; /*works with all browsers*/
        border-radius: 9px;
      }

</style>


    <!-- Custom styles for this template -->
  </head>

  <body id='pageID'>
  <!-- style="background-image: url({% static 'Anime Buff titlepick _ OPTION 2-BLUR.jpg'%});height = 100%;background-attachment: fixed;"-->



    {% include '_navbar.html' %}

<main role="main" style="z-index:0;">
  {% if MSG %}
  <div id="NotificationOnError" class="card pt-1 pb-1" style="background: #FDD;">
    <div class="float-right ml-3" style="font-size:120%;">
      {{MSG}}
      <button type="close" name="x" class="btn btn-light button-outline-secondary float-right mr-3" onclick="javascript:document.getElementById('NotificationOnError').classList.toggle('collapse');">&Cross;</button>
    </div>
  </div>
  {% endif %}

  <section>



          <div class="container mt-3 pt-2 pb-2   text-center justify-content-center darker">
            <h4  class="text-white">{{EP_name}}</h4>
            </div>


  </section>

  <div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        ...
      </div>
    </div>
  </div>


    <div class="d-flex mx-auto container row justify-content-between mt-3">
      {% if prev is -1 %}
      <div class="col-2">
        <span class="btn btn-danger" style="visibility:hidden;"><<< prev</span>
      </div>

      {% else %}
      <div class="col-2">
        <a id="prev" href="{% url 'video' Anime_id prev %}" class="btn btn-primary text-light ">&lt;&lt;&lt; prev</a>
      </div>
      {% endif %}

      <div class="col-2">
        <a id="gte" href="{% url 'animeTitle' Anime_id %}" class="btn btn-info text-light ">Go To Episode List</a>
      </div>

      {% if next is -1 %}

      <div class="col-2">
        <span class="btn btn-danger" style="visibility:hidden;">next >>></span>
      </div>
      {% else %}
      <div class="col-2">
        <a id="next" href="{% url 'video' Anime_id next %}" class="btn btn-primary text-light">next &gt;&gt;&gt;</a>
      </div>
      {% endif %}

    </div>



      <div id="mobileview" class="album py-5   model-grad col-md-10 text-center justify-content-between mt-3" style="margin: 0 auto">
        <div class="container">
          <div class="row text-center">




      <!--____________________________________________________________________CUSTOM PLAYER__________________________________________________________________________-->


      <div id="CustomPlayer" class="justify-content-center mx-auto">

        <br><button id="btnColorChange" onclick="switchToHtml();javascript:document.getElementById('video_player').pause();" class="btn btn-warning mx-auto small-fonts">Switch to HTML5 Player</button><br><br>

            <div class="container mt-5 mb-5">
                <div class="row">
                      <video id="video_player" class="" preload="auto" height="506.25" width="900" controls="true" preload="0" onmousemove="javascript:document.getElementById('video_player').classList.toggle('mouse-visible');document.getElementById('video_player').classList.toggle('mouse-invisible')">

                            <source src="{{video}}" type="video/mp4">
                            <source src="{{video}}" type="video/x-matroska;">
                            <source src="{{video}}" type='video/x-matroska; codecs="theora, vorbis"'>
                            <source src="{{video}}" type="video/ogg">
                            <source src="{{video}}" type="video/mkv">
                            <source src="{{video}}" type='video/mp4; codecs="hvc1"'>
                            <source src="{{video}}" type="video/webm">
                            <source src="{{video}}" type='video/mp4; codecs="avc1"'>
                            <source src="{{video_Public_Url}}" type="video/mp4">
                            <source src="{{video_Public_Url}}" type="video/x-matroska;">
                            <source src="{{video_Public_Url}}" type='video/x-matroska; codecs="theora, vorbis"'>
                            <source src="{{video_Public_Url}}" type="video/ogg">
                            <source src="{{video_Public_Url}}" type="video/mkv">
                            <source src="{{video_Public_Url}}" type='video/mp4; codecs="hvc1"'>
                            <source src="{{video_Public_Url}}" type="video/webm">
                            <source src="{{video_Public_Url}}" type='video/mp4; codecs="avc1"'>
                            {% if subtitle_present %}
                            <track src="{% static 'SubtitlesForAnime.vtt' %}" kind="captions" srclang="en" label="English" default>
                            {% endif %}
                      </video>

                 </div>
            </div>
            <button onclick="LightsToggle()" class="btn btn-dark mx-auto small-fonts">Switch Lights</button>
            <button id="togglePipButton" class="btn btn-dark mx-auto small-fonts">Toggle Picture-in-Picture Mode!</button>
      </div>


        <!--____________________________________________________________________CUSTOM PLAYER ENDS__________________________________________________________________________-->


        <!--____________________________________________________________________HTML5 PLAYER MODE__________________________________________________________________________-->

      <div id="defaultHtmlPlayer" class="collapse justify-content-center mx-auto">

                <br><button id="btnColorChange2" onclick="switchToCustom();javascript:document.getElementById('html_video').pause();" class="btn btn-warning mx-auto small-fonts">Switch to Custom Player</button><br><br>



              <div class="container mt-5 mb-5">
                <div class="row">
                        <video id="html_video" class="videoSIZE" preload="auto" height="506.25" width="990" controls="true" preload="0" onmousemove="javascript:document.getElementById('html_video').classList.toggle('mouse-visible');document.getElementById('html_video').classList.toggle('mouse-invisible')">

                              <source src="{{video}}" type="video/mp4">
                              <source src="{{video}}" type="video/x-matroska;">
                              <source src="{{video}}" type='video/x-matroska; codecs="theora, vorbis"'>
                              <source src="{{video}}" type="video/ogg">
                              <source src="{{video}}" type="video/mkv">
                              <source src="{{video}}" type='video/mp4; codecs="hvc1"'>
                              <source src="{{video}}" type="video/webm">
                              <source src="{{video}}" type='video/mp4; codecs="avc1"'>
                              <source src="{{video_Public_Url}}" type="video/mp4">
                              <source src="{{video_Public_Url}}" type="video/x-matroska;">
                              <source src="{{video_Public_Url}}" type='video/x-matroska; codecs="theora, vorbis"'>
                              <source src="{{video_Public_Url}}" type="video/ogg">
                              <source src="{{video_Public_Url}}" type="video/mkv">
                              <source src="{{video_Public_Url}}" type='video/mp4; codecs="hvc1"'>
                              <source src="{{video_Public_Url}}" type="video/webm">
                              <source src="{{video_Public_Url}}" type='video/mp4; codecs="avc1"'>
                              {% if subtitle_present %}
                              <track src="{% static 'SubtitlesForAnime.vtt' %}" kind="subtitles" srclang="en" label="English" default>
                              {% endif %}

                        </video>


                </div>
              </div>
              <button onclick="LightsToggle()" class="btn btn-dark mx-auto small-fonts">Switch Lights</button>
      </div>

          <!--____________________________________________________________________HTML5 PLAYER ENDS__________________________________________________________________________-->
<!-- VideoEND Postroll effect to next episode -->
<div id="playnextBtn" class="hideIt card d-flex justify-content-center darkerVD" style="top:210px;left:350px;height:400px;width:600px;position:absolute;z-index:2000;">
  <!--button onclick="javascript:document.getElementById('playnextBtn').classList.toggle('hideIt');" class="btn btn-light px-0 py-0 mx-4" style="left:250px;height:29px;width:29px;border: 2px black;border-radius: 90;">x</button-->
  Playing Next Video in a few seconds...
  <div id="secondsLeftBeforeChange" class=" text-dark" style="z-index:11;position:relative;top:18px;font-size:80%;"></div>
  <progress class="mx-auto justify-content-center text-center" value="0" max="5" id="progressBar" style="z-index:-1; position:static;left:-200px;"></progress>

  <progress class="mx-auto justify-content-center hideIt progressColor" value="5" max="5" id="progressBarFULL">ji </progress>
  <button id="dontGoToNextPage" onclick="javascript:ccc='false';showAgain='false';document.getElementById('progressBar').classList.toggle('hideIt');document.getElementById('progressBarFULL').classList.toggle('hideIt');document.getElementById('dontGoToNextPage').classList.toggle('hideIt');document.getElementById('secondsLeftBeforeChange').classList.toggle('hideIt');" class="btn btn-secondary mx-auto small-fonts my-2">cancel</button>
</div>
<form id="autoPlayForm" action="index.html" method="post">{% csrf_token %}
  <span class="text-light">autoplay</span>
  <input type="image" class="" style="position:absolute;right:45px;" id="autoplaySwitch"  src="{% static 'switchOFF.svg' %}" alt="Submit" value="on" width="48" height="48">
  <input type="image" class="" style="position:absolute;right:45px;" id="autoplaySwitch2"  src="{% static 'switchON.svg' %}" alt="Submit" value="on" width="48" height="48">
</form>



        </div>
      </div>
    </div>
</main>




{% include '_footer.html' %}

<script>
    document.getElementById('CustomPlayer').addEventListener('keyup', (event) => {

        document.getElementsByClassName("mejs__captions-layer").style.bottom = "-100px";
    });
</script>
<script src="{% static 'pip_script.js' %}"> </script>
<script src="{% static "dist\Jq\jquerry.min.js" %}"></script>
<script src="{% static "dist\Jq\popper.min.js" %}"></script>
<!--script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" ></script-->
<!--script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script-->
<script src="{% static "dist\js\bootstrap.min.js" %}"></script>
<script src="{% static 'assets/mediaelement-and-player.min.js' %}"></script>
<script src="{% static 'plugins/speed/speed.min.js' %}"></script>
<script src="{% static 'plugins/airplay/airplay.min.js' %}"></script>
<script src="{% static 'plugins/jump-forward/jump-forward.min.js' %}"></script>
<script src="{% static 'plugins/skip-back/skip-back.min.js' %}"></script>
<script src="{% static 'plugins/picture-in-picture/picture-in-picture.js' %}"></script>

<script type="text/javascript">
  $(document).on('submit','#autoPlayForm',function(e){
      e.preventDefault();
         $.ajax({
           url:"{% url 'postAutoPlay' %}",
           type:'POST',
           data: {
             autoplay_value: 1,
             csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val()
           },
           success: function(response){
             document.getElementById('autoplaySwitch').classList.toggle("collapse");
             document.getElementById('autoplaySwitch2').classList.toggle("collapse");
             showAgain = response.changeShowAgainVar;
             console.log("SHOW AGAIN VARIABLE SET TO : ",showAgain);
           }
         });


  });



</script>

<!--PLAYER COSTOM POSTROLL NEXT VIDEO-->
<script type="text/javascript">
    var ccc = "true";
    var showAgain = "true";
    document.getElementById('video_player').addEventListener('ended',function(){
      console.log({{autoplaySymbol}});
      if("{{VideoPostroll}}"!== "-1" && showAgain === "true" && {{autoplaySymbol}} === 1){
        console.log("entering the function");
        document.getElementById('playnextBtn').classList.toggle("hideIt");
        nxt1Video();
         }
     },false);
     function nxt1Video() {
       var timeleft = 5;
       var downloadTimer = setInterval(function(){
       if(timeleft <= 0){
         clearInterval(downloadTimer);
       }
       document.getElementById("progressBar").value = 5 - timeleft;
       document.getElementById("secondsLeftBeforeChange").innerHTML = Math.ceil(timeleft).toString()+" sec(s)...";
       timeleft -= 0.05;
       }, 50);

       setTimeout(function () {
         console.log("the ccc activates : "+ccc);
         if (ccc==="true"){
           console.log("the ccc activates : "+ccc);
            window.location.href = '{{VideoPostroll}}';
          }
          else{


            setTimeout(function () {
              document.getElementById('playnextBtn').classList.toggle('hideIt');
            },1000);
          }
       }, 5000);
    }
</script>

<!--PLAYER HTML POSTROLL NEXT VIDEO-->
<script type="text/javascript">
      var ccc = "true";
      document.getElementById('html_video').addEventListener('ended',function(){
        if("{{VideoPostroll}}"!== "-1"  && showAgain === "true" && {{autoplaySymbol}} === 1){
          console.log("entering the function");
          document.getElementById('playnextBtn').classList.toggle("hideIt");
          //document.querySelector('.bd-example-modal-sm').modal();
          nxt2Video();
           }


       },false);
       function nxt2Video() {
         var timeleft = 5;
         var downloadTimer = setInterval(function(){
         if(timeleft <= 0){
           clearInterval(downloadTimer);
         }
         document.getElementById("progressBar").value = 5 - timeleft;
         document.getElementById("secondsLeftBeforeChange").innerHTML = Math.ceil(timeleft).toString()+" sec(s)...";
         timeleft -= 0.05;
       }, 50);

          setTimeout(function () {
            console.log("the ccc activates : "+ccc);
            if (ccc==="true"){
              console.log("the ccc activates : "+ccc);
               window.location.href = '{{VideoPostroll}}';
             }
             else{
               setTimeout(function () {
                 document.getElementById('playnextBtn').classList.toggle('hideIt');
               },1000);
             }
          }, 5000);
      }
</script>


  <script type="text/javascript">
      var isEdge = !window.isIE && !!window.StyleMedia;
      if (isEdge==true){

        var divClass1 = document.getElementById("CustomPlayer");
        var divClass2 = document.getElementById("defaultHtmlPlayer");
        divClass1.classList.toggle("collapse");
        divClass2.classList.toggle("collapse");
      }
  </script>

<script>
  $('#video_player').mediaelementplayer({
      features: ['playpause', 'jumpforward', 'skipback', 'current', 'progress', 'duration', 'volume', 'tracks', 'speed', 'fullscreen', 'pictureinpicture'],
      speeds: [
          {name: '0.25', value: '0.25'},
          {name: '0.5', value: '0.5'},
          {name: '0.75', value: '0.75'},
          {name: '1.5', value: '1.5'},
          {name: '2', value: '2'}
      ],
      autoRewind: false,
      previewMode: true,
      muteOnPreviewMode: false
  });

  </script>
  <script type="text/javascript">
  document.onkeydown = function (e) {
    if (!document.getElementById('playnextBtn').classList.contains("hideIt")){
      return false;
    }
}
document.addEventListener('DOMContentLoaded', function() {
    if({{autoplaySymbol}} === 1){
      document.getElementById('autoplaySwitch').classList.toggle('collapse');
    }
    else {
      document.getElementById('autoplaySwitch2').classList.toggle('collapse');
    }
}, false);
  </script>


<script type="text/javascript">
    function switchToHtml() {
      var divClass1 = document.getElementById("CustomPlayer");
      var divClass2 = document.getElementById("defaultHtmlPlayer");
      alert("You are about to switch to default HTML5 PLAYER");
      divClass1.classList.toggle("collapse");
      divClass2.classList.toggle("collapse");
    }

    function switchToCustom() {
      var divClass1 = document.getElementById("CustomPlayer");
      var divClass2 = document.getElementById("defaultHtmlPlayer");
      alert("You are about to switch to Customised Web PLAYER");
      divClass1.classList.toggle("collapse");
      divClass2.classList.toggle("collapse");
    }

    function LightsToggle() {
      var bodyID = document.getElementById("pageID");
      var bodycol = document.getElementById("mobileview");
      var button = document.getElementById("btnColorChange");
      var button2 = document.getElementById("btnColorChange2");
      var prev =  document.getElementById("prev");
      var next =  document.getElementById("next");
      var gte =  document.getElementById("gte");
      button.classList.toggle("btn-dark");
      button.classList.toggle("btn-warning");
      button2.classList.toggle("btn-dark");
      button2.classList.toggle("btn-warning");
      bodyID.classList.toggle("lights-off");
      bodycol.classList.toggle("lights-off");
      bodycol.classList.toggle("model-grad");
      prev.classList.toggle("btn-dark");
      prev.classList.toggle("btn-primary");
      next.classList.toggle("btn-dark");
      next.classList.toggle("btn-primary");
      gte.classList.toggle("btn-dark");
      gte.classList.toggle("btn-info");
    }



</script>
<!--script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script-->
<!--script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script-->
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="{% static "dist\Jq\jquerry.min.js" %}"></script>
<script src="{% static "dist\Jq\popper.min.js" %}"></script>
<script src="{% static "dist\js\bootstrap.min.js" %}"></script>
</body>
</html>
